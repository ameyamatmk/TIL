# .NETプロジェクトファイル構造

## 背景

以前の.NET Frameworkの開発では、.csprojファイルに全てのソースファイルを明示的にリストアップする必要があった。現代の.NETプロジェクトファイルを確認したとき、予想していたファイル参照が見当たらず驚いた。

どうやら、現代の.NET（Core、5以降、8など）では、プロジェクトファイルは「SDK形式」を使用しており、明示的な参照なしにソースファイルを自動的に含めている。

### 重要なポイント

- **ファイルの自動インクルード**: プロジェクトディレクトリ内の.csファイルはビルドに自動的に含まれる
- **手動更新不要**: 新しいファイルを追加しても.csprojファイルを編集する必要がない
- **シンプル化されたプロジェクトファイル**: プロジェクトファイルがはるかに小さく、管理しやすい
- **拡張子ベースの包含**: SDKタイプに基づいて異なるファイルタイプが自動的に含まれる

### 現代のプロジェクトファイルの例

```xml
<Project Sdk="Microsoft.NET.Sdk">
  <PropertyGroup>
    <TargetFramework>net8.0</TargetFramework>
    <ImplicitUsings>enable</ImplicitUsings>
    <Nullable>enable</Nullable>
  </PropertyGroup>
</Project>
```

### 自動的に含まれる拡張子:

- **全プロジェクト共通**: .cs, .resx
- **Webプロジェクト**: .cshtml, .razor, .css, .js, .ts
- **WPF/デスクトッププロジェクト**: .xaml
- **F#プロジェクト**: .fs, .fsi, .fsx

### 特定のファイルを除外する方法

必要に応じて、ファイルを明示的に除外することも可能です:

```xml
<ItemGroup>
  <Compile Remove="OldFiles/**/*.cs" />
</ItemGroup>
```

## メリット

- チーム環境でのマージコンフリクトの減少
- 手動メンテナンスの削減
- 「フォルダにあるものがプロジェクトに含まれる」という直感的な構造
- プロジェクトファイルが大幅に小さくなる

## その他

既存のプロジェクトでもそれっぽく修正すれば移行できるらしい
